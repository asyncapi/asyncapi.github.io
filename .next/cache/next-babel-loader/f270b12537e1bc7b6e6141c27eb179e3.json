{"ast":null,"code":"export function registerClickAway(callback) {\n  document.removeEventListener(\"click\", unregisterClickAway);\n  document.addEventListener(\"click\", unregisterClickAway);\n  document.querySelectorAll('iframe').forEach(iframe => {\n    if (iframe.attributes.src.value.startsWith('/') && !iframe.attributes.src.value.startsWith('//')) {\n      iframe.contentWindow.document.removeEventListener(\"click\", unregisterClickAway);\n      iframe.contentWindow.document.addEventListener(\"click\", unregisterClickAway);\n    }\n  });\n\n  function unregisterClickAway() {\n    document.removeEventListener(\"click\", unregisterClickAway);\n    document.querySelectorAll('iframe').forEach(iframe => {\n      if (iframe.attributes.src.value.startsWith('/') && !iframe.attributes.src.value.startsWith('//')) {\n        iframe.contentWindow.document.removeEventListener(\"click\", unregisterClickAway);\n      }\n    });\n    callback();\n  }\n}","map":{"version":3,"sources":["/Users/fmvilas/www/website/components/helpers/click-away.js"],"names":["registerClickAway","callback","document","removeEventListener","unregisterClickAway","addEventListener","querySelectorAll","forEach","iframe","attributes","src","value","startsWith","contentWindow"],"mappings":"AAAA,OAAO,SAASA,iBAAT,CAA2BC,QAA3B,EAAqC;AAC1CC,EAAAA,QAAQ,CAACC,mBAAT,CAA6B,OAA7B,EAAsCC,mBAAtC;AACAF,EAAAA,QAAQ,CAACG,gBAAT,CAA0B,OAA1B,EAAmCD,mBAAnC;AAEAF,EAAAA,QAAQ,CAACI,gBAAT,CAA0B,QAA1B,EAAoCC,OAApC,CAA4CC,MAAM,IAAI;AACpD,QAAIA,MAAM,CAACC,UAAP,CAAkBC,GAAlB,CAAsBC,KAAtB,CAA4BC,UAA5B,CAAuC,GAAvC,KAA+C,CAACJ,MAAM,CAACC,UAAP,CAAkBC,GAAlB,CAAsBC,KAAtB,CAA4BC,UAA5B,CAAuC,IAAvC,CAApD,EAAkG;AAChGJ,MAAAA,MAAM,CAACK,aAAP,CAAqBX,QAArB,CAA8BC,mBAA9B,CAAkD,OAAlD,EAA2DC,mBAA3D;AACAI,MAAAA,MAAM,CAACK,aAAP,CAAqBX,QAArB,CAA8BG,gBAA9B,CAA+C,OAA/C,EAAwDD,mBAAxD;AACD;AACF,GALD;;AAOA,WAASA,mBAAT,GAA+B;AAC7BF,IAAAA,QAAQ,CAACC,mBAAT,CAA6B,OAA7B,EAAsCC,mBAAtC;AACAF,IAAAA,QAAQ,CAACI,gBAAT,CAA0B,QAA1B,EAAoCC,OAApC,CAA4CC,MAAM,IAAI;AACpD,UAAIA,MAAM,CAACC,UAAP,CAAkBC,GAAlB,CAAsBC,KAAtB,CAA4BC,UAA5B,CAAuC,GAAvC,KAA+C,CAACJ,MAAM,CAACC,UAAP,CAAkBC,GAAlB,CAAsBC,KAAtB,CAA4BC,UAA5B,CAAuC,IAAvC,CAApD,EAAkG;AAChGJ,QAAAA,MAAM,CAACK,aAAP,CAAqBX,QAArB,CAA8BC,mBAA9B,CAAkD,OAAlD,EAA2DC,mBAA3D;AACD;AACF,KAJD;AAKAH,IAAAA,QAAQ;AACT;AACF","sourcesContent":["export function registerClickAway(callback) {\n  document.removeEventListener(\"click\", unregisterClickAway)\n  document.addEventListener(\"click\", unregisterClickAway)\n\n  document.querySelectorAll('iframe').forEach(iframe => {\n    if (iframe.attributes.src.value.startsWith('/') && !iframe.attributes.src.value.startsWith('//')) {\n      iframe.contentWindow.document.removeEventListener(\"click\", unregisterClickAway)\n      iframe.contentWindow.document.addEventListener(\"click\", unregisterClickAway)\n    }\n  })\n\n  function unregisterClickAway() {\n    document.removeEventListener(\"click\", unregisterClickAway)\n    document.querySelectorAll('iframe').forEach(iframe => {\n      if (iframe.attributes.src.value.startsWith('/') && !iframe.attributes.src.value.startsWith('//')) {\n        iframe.contentWindow.document.removeEventListener(\"click\", unregisterClickAway)\n      }\n    })\n    callback()\n  }\n}"]},"metadata":{},"sourceType":"module"}