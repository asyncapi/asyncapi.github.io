{"ast":null,"code":"export function registerClickAway(callback) {\n  document.removeEventListener(\"click\", callUnregister);\n  document.addEventListener(\"click\", callUnregister);\n  document.querySelectorAll('iframe').forEach(iframe => {\n    if (iframe.attributes.src.value.startsWith('/') && !iframe.attributes.src.value.startsWith('//')) {\n      iframe.contentWindow.document.removeEventListener(\"click\", callUnregister);\n      iframe.contentWindow.document.addEventListener(\"click\", callUnregister);\n    }\n  });\n\n  function callUnregister(...args) {\n    unregisterClickAway(...args);\n    console.log('aski');\n    callback();\n  }\n}\nexport function unregisterClickAway() {\n  document.removeEventListener(\"click\", unregisterClickAway);\n  document.querySelectorAll('iframe').forEach(iframe => {\n    if (iframe.attributes.src.value.startsWith('/') && !iframe.attributes.src.value.startsWith('//')) {\n      iframe.contentWindow.document.removeEventListener(\"click\", unregisterClickAway);\n    }\n  });\n}","map":{"version":3,"sources":["/Users/fmvilas/www/website/components/helpers/click-away.js"],"names":["registerClickAway","callback","document","removeEventListener","callUnregister","addEventListener","querySelectorAll","forEach","iframe","attributes","src","value","startsWith","contentWindow","args","unregisterClickAway","console","log"],"mappings":"AAAA,OAAO,SAASA,iBAAT,CAA2BC,QAA3B,EAAqC;AAC1CC,EAAAA,QAAQ,CAACC,mBAAT,CAA6B,OAA7B,EAAsCC,cAAtC;AACAF,EAAAA,QAAQ,CAACG,gBAAT,CAA0B,OAA1B,EAAmCD,cAAnC;AAEAF,EAAAA,QAAQ,CAACI,gBAAT,CAA0B,QAA1B,EAAoCC,OAApC,CAA4CC,MAAM,IAAI;AACpD,QAAIA,MAAM,CAACC,UAAP,CAAkBC,GAAlB,CAAsBC,KAAtB,CAA4BC,UAA5B,CAAuC,GAAvC,KAA+C,CAACJ,MAAM,CAACC,UAAP,CAAkBC,GAAlB,CAAsBC,KAAtB,CAA4BC,UAA5B,CAAuC,IAAvC,CAApD,EAAkG;AAChGJ,MAAAA,MAAM,CAACK,aAAP,CAAqBX,QAArB,CAA8BC,mBAA9B,CAAkD,OAAlD,EAA2DC,cAA3D;AACAI,MAAAA,MAAM,CAACK,aAAP,CAAqBX,QAArB,CAA8BG,gBAA9B,CAA+C,OAA/C,EAAwDD,cAAxD;AACD;AACF,GALD;;AAOA,WAASA,cAAT,CAAyB,GAAGU,IAA5B,EAAkC;AAChCC,IAAAA,mBAAmB,CAAC,GAAGD,IAAJ,CAAnB;AACAE,IAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACAhB,IAAAA,QAAQ;AACT;AACF;AAED,OAAO,SAASc,mBAAT,GAA+B;AACpCb,EAAAA,QAAQ,CAACC,mBAAT,CAA6B,OAA7B,EAAsCY,mBAAtC;AACAb,EAAAA,QAAQ,CAACI,gBAAT,CAA0B,QAA1B,EAAoCC,OAApC,CAA4CC,MAAM,IAAI;AACpD,QAAIA,MAAM,CAACC,UAAP,CAAkBC,GAAlB,CAAsBC,KAAtB,CAA4BC,UAA5B,CAAuC,GAAvC,KAA+C,CAACJ,MAAM,CAACC,UAAP,CAAkBC,GAAlB,CAAsBC,KAAtB,CAA4BC,UAA5B,CAAuC,IAAvC,CAApD,EAAkG;AAChGJ,MAAAA,MAAM,CAACK,aAAP,CAAqBX,QAArB,CAA8BC,mBAA9B,CAAkD,OAAlD,EAA2DY,mBAA3D;AACD;AACF,GAJD;AAKD","sourcesContent":["export function registerClickAway(callback) {\n  document.removeEventListener(\"click\", callUnregister)\n  document.addEventListener(\"click\", callUnregister)\n\n  document.querySelectorAll('iframe').forEach(iframe => {\n    if (iframe.attributes.src.value.startsWith('/') && !iframe.attributes.src.value.startsWith('//')) {\n      iframe.contentWindow.document.removeEventListener(\"click\", callUnregister)\n      iframe.contentWindow.document.addEventListener(\"click\", callUnregister)\n    }\n  })\n\n  function callUnregister (...args) {\n    unregisterClickAway(...args)\n    console.log('aski')\n    callback()\n  }\n}\n\nexport function unregisterClickAway() {\n  document.removeEventListener(\"click\", unregisterClickAway)\n  document.querySelectorAll('iframe').forEach(iframe => {\n    if (iframe.attributes.src.value.startsWith('/') && !iframe.attributes.src.value.startsWith('//')) {\n      iframe.contentWindow.document.removeEventListener(\"click\", unregisterClickAway)\n    }\n  })\n}"]},"metadata":{},"sourceType":"module"}